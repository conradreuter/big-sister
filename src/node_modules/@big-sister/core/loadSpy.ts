import { PluginConfiguration, Spy } from '@big-sister'
import loadPlugin from './utility/loadPlugin'
import log from './utility/logging'

export default function loadSpy(configuration: PluginConfiguration<any>): Promise<Spy> {
  log.verbose(`Loading spy '${configuration.plugin}'...`)
  return loadPlugin(configuration.plugin, 'spy')(configuration.options)
}
