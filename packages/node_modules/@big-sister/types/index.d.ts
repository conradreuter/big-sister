import { Observable } from 'rxjs'

/**
 * Identifies someone.
 */
export type Identifier = string

/**
 * Information about who is present.
 */
export type Presence = Identifier[]

/**
 * Provides presence information.
 */
export interface Spy {

  /**
   * The presence information provided by this spy.
   */
  readonly presence$: Observable<Presence>
}

/**
 * A plugin that provides a spy.
 */
export type SpyPlugin<TOptions extends {}> = (options: TOptions) => Promise<Spy>

/**
 * Stores presence information.
 */
export interface Store {

  /**
   * Update the stored presence information.
   */
}

/**
 * A plugin that provides a store.
 */
export type StorePlugin<TOptions extends {}> = (options: TOptions) => Promise<Store>
